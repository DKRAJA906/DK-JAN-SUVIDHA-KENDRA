<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>My Customer</title>
</head>
<body>
    <div style="margin-bottom: 20px;">
        <input type="text" id="newName" placeholder="Customer Name">
        <input type="text" id="newHusband" placeholder="Husband Name">
        <input type="text" id="newMobile" placeholder="Mobile Number">
        <button onclick="addPerson()">Add Customer</button>
        <!-- लिस्ट को खाली करने का बटन भी दिया है -->
        <button onclick="clearList()" style="background-color: red; color: white;">Clear List</button>
    </div>

    <table border="1" id="customerTable" style="width:100%; text-align:center; border-collapse:collapse;">
        <thead>
            <tr style="background: linear-gradient(to right,#ff416c,#ff4b2b);"> <!-- आपका रंग भी लगा दिया -->
                <th>Sl</th>
                <th>Customer Name</th>
                <th>Husband Name</th>
                <th>Mobile Number</th>
            </tr>
        </thead>
        <tbody>
            <!-- यहाँ डेटा JavaScript से आएगा -->
        </tbody>
    </table>

    <script>
    // पेज खुलते ही पुराना डेटा लोड करें
    window.onload = function() {
        loadData();
    };

    function addPerson() {
        var name = document.getElementById("newName").value;
        var husband = document.getElementById("newHusband").value;
        var mobile = document.getElementById("newMobile").value;
        
        if(name === "" || husband === "" || mobile === "") {
            alert("कृपया सभी जानकारी भरें!");
            return;
        }

        // 1. पुराना डेटा निकालें
        var customers = JSON.parse(localStorage.getItem("myCustomers") || "[]");

        // 2. नया कस्टमर जोड़ें
        var newCustomer = {
            name: name,
            husband: husband,
            mobile: mobile
        };
        customers.push(newCustomer);

        // 3. वापस सेव करें
        localStorage.setItem("myCustomers", JSON.stringify(customers));

        // 4. टेबल दोबारा दिखाएं
        loadData();

        // इनपुट खाली करें
        document.getElementById("newName").value = "";
        document.getElementById("newHusband").value = "";
        document.getElementById("newMobile").value = "";
    }

    function loadData() {
        var tableBody = document.querySelector("table tbody");
        tableBody.innerHTML = ""; // पुरानी टेबल साफ करें

        // सेव किया हुआ डेटा लाएं
        var customers = JSON.parse(localStorage.getItem("myCustomers") || "[]");

        // लूप चलाकर टेबल में भरें
        customers.forEach(function(customer, index) {
            var newRow = tableBody.insertRow();
            
            var cell1 = newRow.insertCell(0);
            var cell2 = newRow.insertCell(1);
            var cell3 = newRow.insertCell(2);
            var cell4 = newRow.insertCell(3);

            cell1.innerHTML = index + 1; // सीरियल नंबर (1 से शुरू)
            cell2.innerHTML = customer.name;
            cell3.innerHTML = customer.husband;
            cell4.innerHTML = customer.mobile;
        });
    }

    // अगर पूरी लिस्ट डिलीट करनी हो
    function clearList() {
        if(confirm("क्या आप पूरी लिस्ट डिलीट करना चाहते हैं?")) {
            localStorage.removeItem("myCustomers");
            loadData(); // टेबल खाली हो जाएगी
        }
    }
    </script>
</body>
</html>
